<div class="row" *ngIf="apartment">
  <div class="col-lg-6">
    <div
      id="carouselExampleIndicators"
      class="carousel slide"
      data-ride="carousel"
    >
      <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
      </ol>
      <div class="carousel-inner">
        <ng-container
          *ngFor="let picture of apartment.pictures; index as index">
          <div class="carousel-item active" *ngIf="index == 0">
            <img [src]="picture.imageUrl" class="d-block w-100" alt="picture" />
          </div>
          <div class="carousel-item" *ngIf="index != 0">
            <img [src]="picture.imageUrl" class="d-block w-100" alt="picture" />
          </div>
        </ng-container>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a
        class="carousel-control-next"
        href="#carouselExampleIndicators"
        role="button"
        data-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>
  <div class="col-lg-6">
    <div class="ri-text">
      <div class="section-title">
        <div class="section-title">
          <h2>{{ apartment.name }}</h2>
        </div>
        <ul class="list-accomodation">
          <li><span>Price:</span> {{ apartment.priceByDate }}</li>
          <li><span>Address:</span> {{ apartment.address.name }}</li>
          <!-- <li><span>Province:</span> {{ apartment.address.provinces.name }}</li> -->
          <li>
            <span>Category:</span>
            <span *ngFor="let category of apartment.categories">
              {{ category.name }}.</span>
          </li>
          <li>
            <span>Room type:</span>
            <span *ngFor="let roomType of apartment.roomTypes">
              {{ roomType.name }}.</span
            >
          </li>
          <li><span>Bathroom:</span>{{ apartment.bathroom }}</li>
          <li><span>Bedroom:</span>{{ apartment.bedroom }}</li>
        </ul>
        <p>
          {{ apartment.description }}
        </p>
        <a
            class="btn btn-primary py-3 px-4"
            type="button"
            data-toggle="modal"
            data-target="#editPictureModal"
            >Edit picture list</a
          >
          <br>
          <br>
          <!-- Doesn't work -->
          <!-- <a
            class="btn btn-primary py-3 px-4"
            type="button"
            data-toggle="modal"
            data-target="#blockModal">Block order this apartment</a> -->
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div
  class="modal fade"
  id="editPictureModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Edit picture list</h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <label>Upload picture of your apartment</label>
        <div
          class="custom-dropzone"
          ngx-dropzone
          [accept]="'image/*'"
          (change)="onSelect($event)"
        >
          <ngx-dropzone-label>
            <div>
              <h2>My custom dropzone</h2>
            </div>
          </ngx-dropzone-label>
          <ngx-dropzone-image-preview
            ngProjectAs="ngx-dropzone-preview"
            *ngFor="let f of files"
            [file]="f"
            [removable]="true"
            (removed)="onRemove(f)"
          >
          </ngx-dropzone-image-preview>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">
          Close
        </button>
        <button type="button" class="btn btn-primary" (click)="onSave()">
          Save changes
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div
  class="modal fade"
  id="blockModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Block order this apartment</h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <div class="input-wrap">
            <div class="icon"><span class="ion-md-calendar"></span></div>
            <p>Start</p>
            <label>
              <input type="date" class="form-control appointment_date-check-in" placeholder="start" [(ngModel)]="start">
            </label>
          </div>
        </div>
        <div class="form-group">
          <div class="input-wrap">
            <div class="icon"><span class="ion-md-calendar"></span></div>
            <p>End</p>
            <label>
              <input type="date" class="form-control appointment_date-check-out" placeholder="end" [(ngModel)]="end">
            </label>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">
          Close
        </button>
        <button type="button" class="btn btn-primary" (click)="blockOrder()">Save changes</button>
      </div>
    </div>
  </div>
</div>
